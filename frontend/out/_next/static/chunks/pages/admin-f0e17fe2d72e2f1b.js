(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{9745:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(597)}])},6494:function(e,s,n){"use strict";var r=n(5893);s.Z=function(){return(0,r.jsx)("div",{className:"bg-white px-2 pt-1 pb-2 sm:px-6 sm:pt-2 lg:px-2 lg:py-2",children:(0,r.jsx)("svg",{xmlns:"",className:"h-40 w-40 m-auto animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})}},597:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return _}});var r=n(5893),t=n(5666),a=n.n(t),i=n(1163),l=n(7294),c=n(1043),o=n(9579),d=n(3923),x=n(9196),u=n(5220),m=n(3801),h=n(1664),p=n(3153),f=(n(6494),function(){return(0,r.jsx)("div",{className:"bg-white px-2 pt-1 pb-2 sm:px-6 sm:pt-2 lg:px-2 lg:py-2",children:(0,r.jsx)("svg",{xmlns:"",className:"h-6 w-6 m-auto animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})});function g(e,s,n,r,t,a,i){try{var l=e[a](i),c=l.value}catch(o){return void n(o)}l.done?s(c):Promise.resolve(c).then(r,t)}var v=function(){(0,i.useRouter)();var e,s=(0,c.v9)((function(e){return e.allUsers})),n=(0,c.v9)((function(e){return e.userDelete})),t=(0,c.v9)((function(e){return e.userLogin})).userInfo,o=(0,c.I0)(),x=(e=a().mark((function e(s){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("user to be deleted",s),!window.confirm("Are you sure to delete the user")){e.next=4;break}return e.next=4,o((0,d.bP)(s));case 4:case"end":return e.stop()}}),e)})),function(){var s=this,n=arguments;return new Promise((function(r,t){var a=e.apply(s,n);function i(e){g(a,r,t,i,l,"next",e)}function l(e){g(a,r,t,i,l,"throw",e)}i(void 0)}))});return(0,l.useEffect)((function(){o((0,d.AW)())}),[n.Success]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col",children:[console.log("all users value",s.loading)," ",(0,r.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:[n.loading&&(0,r.jsx)(f,{}),s.loading&&(0,r.jsx)(f,{}),!n.loading&&(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,r.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),!s.loading&&(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.allUsers.users.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,r.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.image,alt:""})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.isAdmin?"Admin":"User"})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.role}),!s.loading&&t._id!==e._id&&(0,r.jsx)("td",{className:"px-6 py-4 font-sans tracking-wider whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsx)("button",{onClick:function(){return x("".concat(e._id))},className:"text-red-400 tracking-wider hover:text-header",children:"Delete User"})})]},e.email)}))})]})]})})})]})})},j=n(8682);function y(e,s,n,r,t,a,i){try{var l=e[a](i),c=l.value}catch(o){return void n(o)}l.done?s(c):Promise.resolve(c).then(r,t)}var N=function(){var e=(0,c.I0)(),s=(0,c.v9)((function(e){return e.productList})),n=(0,c.v9)((function(e){return e.productDelete})),t=s.loading,i=s.error,d=s.products;(0,l.useEffect)((function(){}),[e,n.Success]);var x,u=(x=a().mark((function s(n){return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("Print?",n),s.next=3,e((0,o.B8)(n));case 3:case"end":return s.stop()}}),s)})),function(){var e=this,s=arguments;return new Promise((function(n,r){var t=x.apply(e,s);function a(e){y(t,n,r,a,i,"next",e)}function i(e){y(t,n,r,a,i,"throw",e)}a(void 0)}))});return(0,r.jsx)("div",{className:"bg-white",children:t?(0,r.jsx)(j.Z,{}):i?(0,r.jsx)("h3",{children:i}):(0,r.jsxs)("div",{className:"max-w-2xl mx-auto py-1 px-4 sm:py-1 sm:px-6 lg:max-w-7xl lg:px-8",children:[s.loading&&(0,r.jsx)(j.Z,{}),!s.loading&&(0,r.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:gap-x-8",children:d.map((function(e){return(0,r.jsx)("a",{onClick:function(){return u(e._id)},children:(0,r.jsxs)("div",{className:"group relative",children:[(0,r.jsx)("div",{className:"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 md:h-80 sm:h-80 lg:aspect-none",children:(0,r.jsx)(h.default,{href:"",children:(0,r.jsx)("a",{children:(0,r.jsx)("img",{src:e.imageSrc,alt:e.imageAlt,className:"w-full h-full sm:w-50 sm:h-50 object-center object-cover lg:w-full lg:h-full"})})})}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm text-gray-500",children:(0,r.jsx)(h.default,{href:"",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("span",{"aria-hidden":"true",className:"absolute inset-0"}),e.name]})})}),(0,r.jsx)(h.default,{href:"",children:(0,r.jsx)("a",{children:(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.color})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm text-gray-700",children:(0,r.jsx)(h.default,{href:"",children:(0,r.jsx)("a",{children:(0,r.jsx)("svg",{className:"h-7 w-7 text-red-500 hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.size})]})]})]})},e._id)}))})]})})},w=function(){return(0,r.jsx)("div",{className:" px-2 pt-1 pb-2 sm:px-6 sm:pt-2 lg:px-2 lg:py-2",children:(0,r.jsx)("svg",{xmlns:"",className:"h-4 w-4 m-auto animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})};var b=function(){var e=(0,l.useState)(!1),s=e[0],n=e[1],t=(0,l.useState)(!1),a=t[0],i=t[1],o=(0,l.useState)(!1),d=o[0],f=o[1],g=((0,c.I0)(),(0,c.v9)((function(e){return e.allUsers}))),j=(0,c.v9)((function(e){return e.productList})),y=function(){f(!1),i(!0)},b=function(){i(!1),f(!0)};return(0,l.useEffect)((function(){}),[a,d]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(x.u.Root,{show:s,as:l.Fragment,children:(0,r.jsxs)(u.V,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:n,children:[(0,r.jsx)(x.u.Child,{as:l.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(u.V.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,r.jsx)(x.u.Child,{as:l.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,r.jsxs)("div",{className:"relative max-w-xs w-full bg-white pt-5 pb-4 flex-1 flex flex-col",children:[(0,r.jsx)(x.u.Child,{as:l.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,r.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:function(){return n(!1)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,r.jsx)(m.b0D,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),(0,r.jsx)("div",{className:"mt-5 flex-1 h-0 overflow-y-auto",children:(0,r.jsxs)("nav",{className:"px-2 space-y-1",children:[(0,r.jsx)(h.default,{href:"/admin",children:(0,r.jsxs)("a",{onClick:y,className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[(0,r.jsx)(m.oyc,{className:"text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"}),(0,r.jsx)("span",{className:"flex-1",children:"Users"}),g.loading&&(0,r.jsx)(w,{}),!g.loading&&(0,r.jsx)("span",{className:"bg-gray-100 group-hover:bg-gray-200 ml-3 inline-block py-0.5 px-3 text-xs font-medium rounded-full",children:g.loading?0:g.allUsers.users.length})]})}),(0,r.jsx)(h.default,{href:"/admin",children:(0,r.jsxs)("a",{onClick:b,className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[(0,r.jsx)(m.DEq,{className:"text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"}),(0,r.jsx)("span",{className:"flex-1",children:"Products"}),j.loading&&(0,r.jsx)(w,{}),!j.loading&&(0,r.jsx)("span",{className:"bg-gray-100 group-hover:bg-gray-200 ml-3 inline-block py-0.5 px-3 text-xs font-medium rounded-full",children:j.products.length})]})})]})})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 w-14"})]})}),(0,r.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed left-0",children:(0,r.jsx)("div",{className:"border-r border-gray-200 pt-5 flex flex-col flex-grow bg-white overflow-y-auto",children:(0,r.jsx)("div",{className:"flex-grow mt-5 flex flex-col",children:(0,r.jsxs)("nav",{className:"flex-1 px-2 pb-4 space-y-1",children:[(0,r.jsx)(h.default,{href:"/admin",children:(0,r.jsxs)("a",{onClick:y,className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[(0,r.jsx)(m.oyc,{className:"text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"}),(0,r.jsx)("span",{className:"flex-1",children:"Users"}),g.loading&&(0,r.jsx)(w,{}),!g.loading&&(0,r.jsx)("span",{className:"bg-gray-100 group-hover:bg-gray-200 ml-3 inline-block py-0.5 px-3 text-xs font-medium rounded-full",children:g.loading?0:g.allUsers.users.length})]})}),(0,r.jsx)(h.default,{href:"/admin",children:(0,r.jsxs)("a",{onClick:b,className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[(0,r.jsx)(m.DEq,{className:"text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"}),(0,r.jsx)("span",{className:"flex-1",children:"Products"}),j.loading&&(0,r.jsx)(w,{}),!j.loading&&(0,r.jsx)("span",{className:"bg-gray-100 group-hover:bg-gray-200 ml-3 inline-block py-0.5 px-3 text-xs font-medium rounded-full",children:j.products.length})]})})]})})})}),(0,r.jsx)("div",{className:"md:pl-64",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto flex flex-col md:px-8 xl:px-0",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("button",{type:"button",className:"border border-gray-200 p-4 text-header focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:function(){return n(!0)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)(p.Oqj,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,r.jsx)("main",{className:"flex-1",children:(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsxs)("div",{className:"px-4 sm:px-6 md:px-0",children:[a&&(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Details"}),d&&(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Product Details"})]}),(0,r.jsxs)("div",{className:"px-0 sm:px-6 md:px-0",children:[a&&(0,r.jsx)(v,{}),d&&(0,r.jsx)(N,{})]})]})})]})})]})})};function k(e,s,n,r,t,a,i){try{var l=e[a](i),c=l.value}catch(o){return void n(o)}l.done?s(c):Promise.resolve(c).then(r,t)}var C=function(){var e=(0,c.v9)((function(e){return e.userLogin})).userInfo,s=(0,c.v9)((function(e){return e.userLogged})),n=(0,i.useRouter)(),t=(0,c.I0)();return(0,l.useEffect)((function(){var r;s&&e.isAdmin||n.push("/"),(r=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,d.AW)());case 2:return e.next=4,t((0,o.tr)());case 4:case"end":return e.stop()}}),e)})),function(){var e=this,s=arguments;return new Promise((function(n,t){var a=r.apply(e,s);function i(e){k(a,n,t,i,l,"next",e)}function l(e){k(a,n,t,i,l,"throw",e)}i(void 0)}))})()}),[]),(0,r.jsx)("div",{children:(0,r.jsx)(b,{})})},_=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(C,{})})}},1163:function(e,s,n){e.exports=n(387)}},function(e){e.O(0,[453,774,888,179],(function(){return s=9745,e(e.s=s);var s}));var s=e.O();_N_E=s}]);