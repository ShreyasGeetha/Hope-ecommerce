(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{124:function(e,t,n){"use strict";n.d(t,{R:function(){return I}});var o=n(9642),r=n(7294),i=n(133),a=n(8529),u=n(7471),l=n(2659),s=n(9016),c=n(852),p=n(2506),d=n(5057),f=n(4198),b=n(3980),v=n(6637),x=n(9472),O=n(3197);function R(e,t){var n=(0,r.useState)(e),o=n[0],i=n[1],a=(0,r.useRef)(e);return(0,c.e)((function(){a.current=e}),[e]),(0,c.e)((function(){return i(a.current)}),[a,i].concat(t)),o}var g,y,S,C=n(1787);!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(y||(y={})),function(e){e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption"}(S||(S={}));var h=((g={})[S.CloseListbox]=function(e){return e.disabled||e.listboxState===y.Closed?e:(0,o.gY)({},e,{activeOptionIndex:null,listboxState:y.Closed})},g[S.OpenListbox]=function(e){return e.disabled||e.listboxState===y.Open?e:(0,o.gY)({},e,{listboxState:y.Open})},g[S.SetDisabled]=function(e,t){return e.disabled===t.disabled?e:(0,o.gY)({},e,{disabled:t.disabled})},g[S.SetOrientation]=function(e,t){return e.orientation===t.orientation?e:(0,o.gY)({},e,{orientation:t.orientation})},g[S.GoToOption]=function(e,t){if(e.disabled)return e;if(e.listboxState===y.Closed)return e;var n=(0,C.d)(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeOptionIndex===n?e:(0,o.gY)({},e,{searchQuery:"",activeOptionIndex:n})},g[S.Search]=function(e,t){if(e.disabled)return e;if(e.listboxState===y.Closed)return e;var n=e.searchQuery+t.value.toLowerCase(),r=e.options.findIndex((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}));return-1===r||r===e.activeOptionIndex?(0,o.gY)({},e,{searchQuery:n}):(0,o.gY)({},e,{searchQuery:n,activeOptionIndex:r})},g[S.ClearSearch]=function(e){return e.disabled||e.listboxState===y.Closed||""===e.searchQuery?e:(0,o.gY)({},e,{searchQuery:""})},g[S.RegisterOption]=function(e,t){return(0,o.gY)({},e,{options:[].concat(e.options,[{id:t.id,dataRef:t.dataRef}])})},g[S.UnregisterOption]=function(e,t){var n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((function(e){return e.id===t.id}));return-1!==i&&n.splice(i,1),(0,o.gY)({},e,{options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)})},g),m=(0,r.createContext)(null);function T(e){var t=(0,r.useContext)(m);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+I.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,T),n}return t}function k(e,t){return(0,i.E)(t.type,h,e,t)}m.displayName="ListboxContext";var L=r.Fragment;function I(e){var t,n=e.value,u=e.onChange,l=e.disabled,s=void 0!==l&&l,p=e.horizontal,v=void 0!==p&&p,x=(0,o.gK)(e,["value","onChange","disabled","horizontal"]),O=v?"horizontal":"vertical",R=(0,r.useReducer)(k,{listboxState:y.Closed,propsRef:{current:{value:n,onChange:u}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:s,orientation:O,options:[],searchQuery:"",activeOptionIndex:null}),g=R[0],C=g.listboxState,h=g.propsRef,T=g.optionsRef,I=g.buttonRef,D=R[1];(0,c.e)((function(){h.current.value=n}),[n,h]),(0,c.e)((function(){h.current.onChange=u}),[u,h]),(0,c.e)((function(){return D({type:S.SetDisabled,disabled:s})}),[s]),(0,c.e)((function(){return D({type:S.SetOrientation,orientation:O})}),[O]),(0,f.s)("mousedown",(function(e){var t,n,o,r=e.target;C===y.Open&&((null==(t=I.current)?void 0:t.contains(r))||(null==(n=T.current)?void 0:n.contains(r))||(D({type:S.CloseListbox}),(0,d.sP)(r,d.tJ.Loose)||(e.preventDefault(),null==(o=I.current)||o.focus())))}));var w=(0,r.useMemo)((function(){return{open:C===y.Open,disabled:s}}),[C,s]);return r.createElement(m.Provider,{value:R},r.createElement(b.up,{value:(0,i.E)(C,(t={},t[y.Open]=b.ZM.Open,t[y.Closed]=b.ZM.Closed,t))},(0,a.sY)({props:x,slot:w,defaultTag:L,name:"Listbox"})))}var D=(0,a.yV)((function e(t,n){var i,c=T([I.name,e.name].join(".")),d=c[0],f=c[1],b=(0,u.T)(d.buttonRef,n),x="headlessui-listbox-button-"+(0,p.M)(),g=(0,O.G)(),h=(0,r.useCallback)((function(e){switch(e.key){case l.R.Space:case l.R.Enter:case l.R.ArrowDown:e.preventDefault(),f({type:S.OpenListbox}),g.nextFrame((function(){d.propsRef.current.value||f({type:S.GoToOption,focus:C.T.First})}));break;case l.R.ArrowUp:e.preventDefault(),f({type:S.OpenListbox}),g.nextFrame((function(){d.propsRef.current.value||f({type:S.GoToOption,focus:C.T.Last})}))}}),[f,d,g]),m=(0,r.useCallback)((function(e){switch(e.key){case l.R.Space:e.preventDefault()}}),[]),k=(0,r.useCallback)((function(e){if((0,s.P)(e.currentTarget))return e.preventDefault();d.listboxState===y.Open?(f({type:S.CloseListbox}),g.nextFrame((function(){var e;return null==(e=d.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),f({type:S.OpenListbox}))}),[f,g,d]),L=R((function(){if(d.labelRef.current)return[d.labelRef.current.id,x].join(" ")}),[d.labelRef.current,x]),D=(0,r.useMemo)((function(){return{open:d.listboxState===y.Open,disabled:d.disabled}}),[d]),w=t,E={ref:b,id:x,type:(0,v.f)(t,d.buttonRef),"aria-haspopup":!0,"aria-controls":null==(i=d.optionsRef.current)?void 0:i.id,"aria-expanded":d.disabled?void 0:d.listboxState===y.Open,"aria-labelledby":L,disabled:d.disabled,onKeyDown:h,onKeyUp:m,onClick:k};return(0,a.sY)({props:(0,o.gY)({},w,E),slot:D,defaultTag:"button",name:"Listbox.Button"})}));var w=a.AN.RenderStrategy|a.AN.Static,E=(0,a.yV)((function e(t,n){var s,d=T([I.name,e.name].join(".")),f=d[0],v=d[1],g=(0,u.T)(f.optionsRef,n),h="headlessui-listbox-options-"+(0,p.M)(),m=(0,O.G)(),k=(0,O.G)(),L=(0,b.oJ)(),D=null!==L?L===b.ZM.Open:f.listboxState===y.Open;(0,c.e)((function(){var e=f.optionsRef.current;e&&f.listboxState===y.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[f.listboxState,f.optionsRef]);var E=(0,r.useCallback)((function(e){switch(k.dispose(),e.key){case l.R.Space:if(""!==f.searchQuery)return e.preventDefault(),e.stopPropagation(),v({type:S.Search,value:e.key});case l.R.Enter:if(e.preventDefault(),e.stopPropagation(),v({type:S.CloseListbox}),null!==f.activeOptionIndex){var t=f.options[f.activeOptionIndex].dataRef;f.propsRef.current.onChange(t.current.value)}(0,x.k)().nextFrame((function(){var e;return null==(e=f.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case(0,i.E)(f.orientation,{vertical:l.R.ArrowDown,horizontal:l.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),v({type:S.GoToOption,focus:C.T.Next});case(0,i.E)(f.orientation,{vertical:l.R.ArrowUp,horizontal:l.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),v({type:S.GoToOption,focus:C.T.Previous});case l.R.Home:case l.R.PageUp:return e.preventDefault(),e.stopPropagation(),v({type:S.GoToOption,focus:C.T.First});case l.R.End:case l.R.PageDown:return e.preventDefault(),e.stopPropagation(),v({type:S.GoToOption,focus:C.T.Last});case l.R.Escape:return e.preventDefault(),e.stopPropagation(),v({type:S.CloseListbox}),m.nextFrame((function(){var e;return null==(e=f.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case l.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(v({type:S.Search,value:e.key}),k.setTimeout((function(){return v({type:S.ClearSearch})}),350))}}),[m,v,k,f]),Y=R((function(){var e,t,n;return null!=(e=null==(t=f.labelRef.current)?void 0:t.id)?e:null==(n=f.buttonRef.current)?void 0:n.id}),[f.labelRef.current,f.buttonRef.current]),G=(0,r.useMemo)((function(){return{open:f.listboxState===y.Open}}),[f]),M={"aria-activedescendant":null===f.activeOptionIndex||null==(s=f.options[f.activeOptionIndex])?void 0:s.id,"aria-labelledby":Y,"aria-orientation":f.orientation,id:h,onKeyDown:E,role:"listbox",tabIndex:0,ref:g},P=t;return(0,a.sY)({props:(0,o.gY)({},P,M),slot:G,defaultTag:"ul",features:w,visible:D,name:"Listbox.Options"})}));I.Button=D,I.Label=function e(t){var n=T([I.name,e.name].join("."))[0],i="headlessui-listbox-label-"+(0,p.M)(),u=(0,r.useCallback)((function(){var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[n.buttonRef]),l=(0,r.useMemo)((function(){return{open:n.listboxState===y.Open,disabled:n.disabled}}),[n]),s={ref:n.labelRef,id:i,onClick:u};return(0,a.sY)({props:(0,o.gY)({},t,s),slot:l,defaultTag:"label",name:"Listbox.Label"})},I.Options=E,I.Option=function e(t){var n=t.disabled,i=void 0!==n&&n,u=t.value,l=(0,o.gK)(t,["disabled","value"]),s=T([I.name,e.name].join(".")),d=s[0],f=s[1],b="headlessui-listbox-option-"+(0,p.M)(),v=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===b,O=d.propsRef.current.value===u,R=(0,r.useRef)({disabled:i,value:u});(0,c.e)((function(){R.current.disabled=i}),[R,i]),(0,c.e)((function(){R.current.value=u}),[R,u]),(0,c.e)((function(){var e,t;R.current.textValue=null==(e=document.getElementById(b))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[R,b]);var g=(0,r.useCallback)((function(){return d.propsRef.current.onChange(u)}),[d.propsRef,u]);(0,c.e)((function(){return f({type:S.RegisterOption,id:b,dataRef:R}),function(){return f({type:S.UnregisterOption,id:b})}}),[R,b]),(0,c.e)((function(){var e;d.listboxState===y.Open&&O&&(f({type:S.GoToOption,focus:C.T.Specific,id:b}),null==(e=document.getElementById(b))||null==e.focus||e.focus())}),[d.listboxState]),(0,c.e)((function(){if(d.listboxState===y.Open&&v){var e=(0,x.k)();return e.nextFrame((function(){var e;return null==(e=document.getElementById(b))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[b,v,d.listboxState]);var h=(0,r.useCallback)((function(e){if(i)return e.preventDefault();g(),f({type:S.CloseListbox}),(0,x.k)().nextFrame((function(){var e;return null==(e=d.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[f,d.buttonRef,i,g]),m=(0,r.useCallback)((function(){if(i)return f({type:S.GoToOption,focus:C.T.Nothing});f({type:S.GoToOption,focus:C.T.Specific,id:b})}),[i,b,f]),k=(0,r.useCallback)((function(){i||v||f({type:S.GoToOption,focus:C.T.Specific,id:b})}),[i,v,b,f]),L=(0,r.useCallback)((function(){i||v&&f({type:S.GoToOption,focus:C.T.Nothing})}),[i,v,f]),D=(0,r.useMemo)((function(){return{active:v,selected:O,disabled:i}}),[v,O,i]),w={id:b,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":!0===O||void 0,disabled:void 0,onClick:h,onFocus:m,onPointerMove:k,onMouseMove:k,onPointerLeave:L,onMouseLeave:L};return(0,a.sY)({props:(0,o.gY)({},l,w),slot:D,defaultTag:"li",name:"Listbox.Option"})}},1163:function(e,t,n){e.exports=n(387)}}]);