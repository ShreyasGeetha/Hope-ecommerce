(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[729],{2729:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var n=r(5666),a=r.n(n),o=r(5893),i=r(7294),s=(r(3153),r(9642)),u=r(133),c=r(8529),l=r(2659),d=r(852),p=r(2506),f=r(5057),m=r(7587),g=r(1145);var v=(0,i.createContext)(null);function h(){var e=(0,i.useContext)(v);if(null===e){var t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return e}function x(){var e=(0,i.useState)([]),t=e[0],r=e[1];return[t.length>0?t.join(" "):void 0,(0,i.useMemo)((function(){return function(e){var t=(0,i.useCallback)((function(e){return r((function(t){return[].concat(t,[e])})),function(){return r((function(t){var r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))}}),[]),n=(0,i.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return i.createElement(v.Provider,{value:n},e.children)}}),[r])]}var b,y;!function(e){e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption"}(y||(y={}));var w=((b={})[y.RegisterOption]=function(e,t){return(0,s.gY)({},e,{options:[].concat(e.options,[{id:t.id,element:t.element,propsRef:t.propsRef}])})},b[y.UnregisterOption]=function(e,t){var r=e.options.slice(),n=e.options.findIndex((function(e){return e.id===t.id}));return-1===n?e:(r.splice(n,1),(0,s.gY)({},e,{options:r}))},b),k=(0,i.createContext)(null);function j(e){var t=(0,i.useContext)(k);if(null===t){var r=new Error("<"+e+" /> is missing a parent <"+C.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(r,j),r}return t}function N(e,t){return(0,u.E)(t.type,w,e,t)}k.displayName="RadioGroupContext";var R;function C(e){var t=e.value,r=e.onChange,n=e.disabled,a=void 0!==n&&n,o=(0,s.gK)(e,["value","onChange","disabled"]),u=(0,i.useReducer)(N,{options:[]}),d=u[0].options,v=u[1],h=x(),b=h[0],w=h[1],j=(0,m.f)(),R=j[0],C=j[1],E="headlessui-radiogroup-"+(0,p.M)(),A=(0,i.useRef)(null),O=(0,i.useMemo)((function(){return d.find((function(e){return!e.propsRef.current.disabled}))}),[d]),L=(0,i.useMemo)((function(){return d.some((function(e){return e.propsRef.current.value===t}))}),[d,t]),S=(0,i.useCallback)((function(e){var n;if(a)return!1;if(e===t)return!1;var o=null==(n=d.find((function(t){return t.propsRef.current.value===e})))?void 0:n.propsRef.current;return!(null==o?void 0:o.disabled)&&(r(e),!0)}),[r,t,a,d]);(0,g.B)({container:A.current,accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var T=(0,i.useCallback)((function(e){if(A.current){var t=d.filter((function(e){return!1===e.propsRef.current.disabled})).map((function(e){return e.element.current}));switch(e.key){case l.R.ArrowLeft:case l.R.ArrowUp:if(e.preventDefault(),e.stopPropagation(),(0,f.jA)(t,f.TO.Previous|f.TO.WrapAround)===f.fE.Success){var r=d.find((function(e){return e.element.current===document.activeElement}));r&&S(r.propsRef.current.value)}break;case l.R.ArrowRight:case l.R.ArrowDown:if(e.preventDefault(),e.stopPropagation(),(0,f.jA)(t,f.TO.Next|f.TO.WrapAround)===f.fE.Success){var n=d.find((function(e){return e.element.current===document.activeElement}));n&&S(n.propsRef.current.value)}break;case l.R.Space:e.preventDefault(),e.stopPropagation();var a=d.find((function(e){return e.element.current===document.activeElement}));a&&S(a.propsRef.current.value)}}}),[A,d,S]),I=(0,i.useCallback)((function(e){return v((0,s.gY)({type:y.RegisterOption},e)),function(){return v({type:y.UnregisterOption,id:e.id})}}),[v]),P=(0,i.useMemo)((function(){return{registerOption:I,firstOption:O,containsCheckedOption:L,change:S,disabled:a,value:t}}),[I,O,L,S,a,t]),F={ref:A,id:E,role:"radiogroup","aria-labelledby":b,"aria-describedby":R,onKeyDown:T};return i.createElement(C,{name:"RadioGroup.Description"},i.createElement(w,{name:"RadioGroup.Label"},i.createElement(k.Provider,{value:P},(0,c.sY)({props:(0,s.gY)({},o,F),defaultTag:"div",name:"RadioGroup"}))))}!function(e){e[e.Empty=1]="Empty",e[e.Active=2]="Active"}(R||(R={}));C.Option=function e(t){var r=(0,i.useRef)(null),n="headlessui-radiogroup-option-"+(0,p.M)(),a=x(),o=a[0],u=a[1],l=(0,m.f)(),f=l[0],g=l[1],v=function(e){void 0===e&&(e=0);var t=(0,i.useState)(e),r=t[0],n=t[1];return{addFlag:(0,i.useCallback)((function(e){return n((function(t){return t|e}))}),[n]),hasFlag:(0,i.useCallback)((function(e){return Boolean(r&e)}),[r]),removeFlag:(0,i.useCallback)((function(e){return n((function(t){return t&~e}))}),[n]),toggleFlag:(0,i.useCallback)((function(e){return n((function(t){return t^e}))}),[n])}}(R.Empty),h=v.addFlag,b=v.removeFlag,y=v.hasFlag,w=t.value,k=t.disabled,N=void 0!==k&&k,E=(0,s.gK)(t,["value","disabled"]),A=(0,i.useRef)({value:w,disabled:N});(0,d.e)((function(){A.current.value=w}),[w,A]),(0,d.e)((function(){A.current.disabled=N}),[N,A]);var O=j([C.name,e.name].join(".")),L=O.registerOption,S=O.disabled,T=O.change,I=O.firstOption,P=O.containsCheckedOption,F=O.value;(0,d.e)((function(){return L({id:n,element:r,propsRef:A})}),[n,L,r,t]);var _=(0,i.useCallback)((function(){var e;T(w)&&(h(R.Active),null==(e=r.current)||e.focus())}),[h,T,w]),D=(0,i.useCallback)((function(){return h(R.Active)}),[h]),G=(0,i.useCallback)((function(){return b(R.Active)}),[b]),M=(null==I?void 0:I.id)===n,Y=S||N,U=F===w,K={ref:r,id:n,role:"radio","aria-checked":U?"true":"false","aria-labelledby":o,"aria-describedby":f,"aria-disabled":!!Y||void 0,tabIndex:Y?-1:U||!P&&M?0:-1,onClick:Y?void 0:_,onFocus:Y?void 0:D,onBlur:Y?void 0:G},B=(0,i.useMemo)((function(){return{checked:U,disabled:Y,active:y(R.Active)}}),[U,Y,y]);return i.createElement(g,{name:"RadioGroup.Description"},i.createElement(u,{name:"RadioGroup.Label"},(0,c.sY)({props:(0,s.gY)({},E,K),slot:B,defaultTag:"div",name:"RadioGroup.Option"})))},C.Label=function(e){var t=e.passive,r=void 0!==t&&t,n=(0,s.gK)(e,["passive"]),a=h(),o="headlessui-label-"+(0,p.M)();(0,d.e)((function(){return a.register(o)}),[o,a.register]);var i=(0,s.gY)({},a.props,{id:o}),u=(0,s.gY)({},n,i);return r&&delete u.onClick,(0,c.sY)({props:u,slot:a.slot||{},defaultTag:"label",name:a.name||"Label"})},C.Description=m.d;var E=r(3801),A=r(1043),O=r(9579),L=r(7370),S=r(1664),T=r(1163);function I(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){I(o,n,a,i,s,"next",e)}function s(e){I(o,n,a,i,s,"throw",e)}i(void 0)}))}}E.n9J,E.UK3;var F=function(e){var t=e.productId,r=((0,T.useRouter)(),(0,i.useState)("")),n=r[0],s=r[1],u=(0,A.I0)(),c=(0,A.v9)((function(e){return e.productDetails})),l=(0,A.v9)((function(e){return e.currentProduct})),d=(0,A.v9)((function(e){return e.shouldShowLoginForm})),p=(0,A.v9)((function(e){return e.userLogged})),f=c.product,m=(0,A.v9)((function(e){return e.userLogin}));m.userInfo,m.isUserloggedIn;(0,i.useEffect)((function(){P(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("print the value 1",l._id),"undefined"!=t){e.next=8;break}return console.log("print the value",l._id),t=l._id,e.next=6,u((0,O.GW)(t));case 6:e.next=10;break;case 8:return e.next=10,u((0,O.GW)(t));case 10:case"end":return e.stop()}}),e)})))()}),[t,m]);var g=P(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u((0,L.L)(!d));case 3:case"end":return e.stop()}}),e)})));return(0,o.jsx)("div",{className:"bg-white",children:(0,o.jsx)("div",{className:"pt-6 pb-16 sm:pb-24",children:(0,o.jsx)("div",{className:"mt-8 max-w-2xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:(0,o.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:auto-rows-min lg:gap-x-8",children:[(0,o.jsx)("div",{className:"lg:col-start-8 lg:col-span-5",children:(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:f.name}),(0,o.jsx)("p",{className:"text-xl font-medium text-gray-900"})]})}),(0,o.jsxs)("div",{className:"mt-8 lg:mt-0 lg:col-start-1 lg:col-span-7 lg:row-start-1 lg:row-span-3",children:[(0,o.jsx)("h2",{className:"sr-only",children:"Images"}),(0,o.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:grid-rows-3 lg:gap-8",children:(0,o.jsx)("img",{src:f.imageSrc,alt:f.imageAlt,className:"lg:col-span-2 lg:row-span-2"},f.id)})]}),(0,o.jsxs)("div",{className:"mt-8 lg:col-span-5",children:[(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"mt-8",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Size"}),(0,o.jsx)("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500"})]}),(0,o.jsxs)(C,{value:n,onChange:s,className:"mt-2",children:[(0,o.jsx)(C.Label,{className:"sr-only",children:"Choose a size"}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-6",children:f.sizes.map((function(e){return(0,o.jsx)(C.Option,{value:e,className:function(t){var r=t.active,n=t.checked;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}(e.inStock?"cursor-pointer focus:outline-none text-pink-50 bg-header ring-2 ring-offset-2 ring-header":"opacity-25 cursor-not-allowed",r?"ring-2 ring-offset-2 ring-indigo-500":"",n?" border-transparent text-white ":"bg-white border-indigo-500 text-gray-900","border rounded-md py-3 px-3 flex items-center justify-center text-sm font-medium uppercase sm:flex-1")},disabled:!e.inStock,children:(0,o.jsx)(C.Label,{as:"p",children:e.name})},e.name)}))})]})]}),p&&(0,o.jsx)(S.default,{href:{pathname:"/cart/Cart",query:{productId:"".concat(t)}},passHref:!0,children:(0,o.jsx)("button",{type:"submit",className:"mt-8 w-full bg-header border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-header focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-header",children:"Add to cart"})}),!p&&(0,o.jsx)("button",{type:"submit",onClick:g,className:"mt-8 w-full bg-header border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-header focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-header",children:"Login to Add to Cart"})]}),(0,o.jsxs)("div",{className:"mt-10",children:[(0,o.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Description"}),(0,o.jsx)("div",{className:"mt-4 prose prose-sm text-gray-500",dangerouslySetInnerHTML:{__html:f.description}})]}),(0,o.jsxs)("div",{className:"mt-10",children:[(0,o.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Pickup Location"}),(0,o.jsx)("div",{className:"mt-4 prose prose-sm text-gray-500",dangerouslySetInnerHTML:{__html:f.dropLocation}})]})]})]})})})})}},9579:function(e,t,r){"use strict";r.d(t,{tr:function(){return l},GW:function(){return d},B8:function(){return p}});var n=r(5666),a=r.n(n),o=r(9669),i=r.n(o),s=r(1887);function u(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,s,"next",e)}function s(e){u(o,n,a,i,s,"throw",e)}i(void 0)}))}}var l=function(){return c(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.w8}),e.next=4,i().get("/api/products");case 4:r=e.sent.data,t({type:s.fu,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:s.cK,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},d=function(e){return c(a().mark((function t(r,n){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.Uy}),console.log("222"),t.next=5,i().get("/api/products/".concat(e));case 5:o=t.sent.data,r({type:s.xe,payload:o}),localStorage.setItem("currentProductView",JSON.stringify(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:s.gh,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.response});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))},p=function(e){return c(a().mark((function t(r,n){var o,u,c,l,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.o6}),console.log("do we get the id here1",e),o=n(),u=o.userLogin.userInfo,c=u._id,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)},data:{productId:e,userId:c}},t.next=8,i().delete("/api/products/".concat(e),l);case 8:d=t.sent.data,r({type:s.Gd,payload:d}),console.log("what did we get after deleting a product",d),r({type:s.w8}),r({type:s.fu,payload:d}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),r({type:s.EP,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.response});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))}},1163:function(e,t,r){e.exports=r(387)}}]);